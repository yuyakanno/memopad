<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
<title>じゃんけん</title>
</head>
<body>

<header>
  <h1>じゃんけん</h1>
</header>

<main> 
  <div class="wrapper">    
    <div class="player1">
      <p>あなた<br>
      <span id="option">↓↓↓選んでね↓↓↓</span></p>
      <ul class="myself">
        <li id="gu_btn">
          <input type="image" src="/kadai/image/img_gu.jpg" alt="" width="50%" height="50%"></li>
        <li id="cho_btn">
          <input type="image" src="/kadai/image/img_cho.jpg" alt="" width="50%" height="50%"></li>
        <li id="par_btn">
          <input type="image" src="/kadai/image/img_par.jpg" alt="" width="50%" height="50%"></li>
      </ul>
    </div>
    
    <div class="result">
      <div id="judgment">勝敗は・・・</div>
    </div>
    
    <div class="player2">
      <p>コンピューター</p>
      <ul class="competitor">
        <li id="gu_btn2">
          <img src="/kadai/image/img_gu.jpg" class="gu" alt="" width="50%" height="50%"></li>
        <li id="cho_btn2">
          <img src="/kadai/image/img_cho.jpg" class="cho" alt="" width="50%" height="50%"></li>
        <li id="par_btn2">
          <img src="/kadai/image/img_par.jpg" class="par" alt="" width="50%" height="50%">
        </li>
      </ul>
      
      <div id="container" class="container">
            <img class="image" src="/kadai/image/img_gu.jpg"  />
            <img class="image" src="/kadai/image/img_cho.jpg"  />
            <img class="image" src="/kadai/image/img_par.jpg"  />
      </div>
    </div>
  </div>
  
  <div class="list_container">
    <table id="list">
    <!-- ここに勝敗データが挿入される -->
    <tr><th style="width:150px ;">じゃんけん</th><th style="width:250px ;">結果</th></tr>
    </table>
  </div>
</main>

<footer>
  <div class="retry">
    <input type="button" id="retry_btn" class="retry_btn" value="リトライ！"/>
  </div>
  
  <div class="clear">
    <input type="button" id="clear_btn" class="clear_btn" value="勝敗数クリア" onclick="localStorage.clear(), window.location.reload();">
  </div>
</footer>
<script>
//じゃんけん用のSCRIPTを書いてください

$("#gu_btn2").toggle(false);
$("#cho_btn2").toggle(false);
$("#par_btn2").toggle(false);
$("#retry_btn").toggle(false);

const results = [``, `―`, `○`, `×`]

$("#gu_btn").on("click", function() {
  let num = ( Math.ceil(3*Math.random() ) )
  console.log( num );
  let k = localStorage.length;
  let v = results[num];
  localStorage.setItem(k, v);

  if (num == 1) {
    setTimeout(function(){
      $("#cho_btn").toggle(false);
    },1000);
    setTimeout(function(){
      $("#par_btn").toggle(false);
    },1000);
    setTimeout(function(){
      $("#option").toggle(false);
    },1000);
    setTimeout(function(){
      $("#gu_btn2").toggle(true);
    },2000);
    setTimeout(function(){
      $("#container").toggle(false);
    },2000);
    setTimeout(function(){
      $("#judgment").text("あいこ");
    },3000);
    setTimeout(function(){
      $("#retry_btn").toggle(true);
    },4000);
    setTimeout(function(){
      const html = `<tr><td>${k+1}回戦</td><td>${v}</td></tr>`
      $("#list").append(html);
    },4000);

  }
  else if ( num == 2 ) {
    setTimeout(function(){
      $("#cho_btn").toggle(false);
    },1000);
    setTimeout(function(){
      $("#par_btn").toggle(false);
    },1000);
    setTimeout(function(){
      $("#option").toggle(false);
    },1000);
    setTimeout(function(){
      $("#cho_btn2").toggle(true);
    },2000);
    setTimeout(function(){
      $("#container").toggle(false);
    },2000);
    setTimeout(function(){
      $("#judgment").text("あなたの勝ち");
      $("#judgment").css("color", "Red");
    },3000);
    setTimeout(function(){
      $("#retry_btn").toggle(true);
    },4000);
    setTimeout(function(){
      const html = `<tr><td>${k+1}回戦</td><td>${v}</td></tr>`
      $("#list").append(html);
    },4000);
  }

  else if ( num == 3 ) {
    setTimeout(function(){
      $("#cho_btn").toggle(false);
    },1000);
    setTimeout(function(){
      $("#par_btn").toggle(false);
    },1000);
    setTimeout(function(){
      $("#option").toggle(false);
    },1000);
    setTimeout(function(){
      $("#par_btn2").toggle(true);
    },2000);
    setTimeout(function(){
      $("#container").toggle(false);
    },2000);
    setTimeout(function(){
      $("#judgment").text("あなたの負け");
      $("#judgment").css("color", "Blue");
    },3000);
    setTimeout(function(){
      $("#retry_btn").toggle(true);
    },4000);
    setTimeout(function(){
      const html = `<tr><td>${k+1}回戦</td><td>${v}</td></tr>`
      $("#list").append(html);
    },4000);
  }
  })

$("#cho_btn").on("click", function() {
  let num = ( Math.ceil(3*Math.random() ) )
  console.log( num );
  let k = localStorage.length;
  let v = results[num];
  localStorage.setItem(k, v);

  if (num == 1) {
    setTimeout(function(){
      $("#gu_btn").hide();
    },1000);
    setTimeout(function(){
      $("#par_btn").hide();
    },1000);
    setTimeout(function(){
      $("#option").hide();
    },1000);
    setTimeout(function(){
      $("#cho_btn2").show();
    },2000);
    setTimeout(function(){
      $("#container").hide();
    },2000);
    setTimeout(function(){
      $("#judgment").text("あいこ");
    },3000);
    setTimeout(function(){
      $("#retry_btn").show();
    },4000);
    setTimeout(function(){
      const html = `<tr><td>${k+1}回戦</td><td>${v}</td></tr>`
      $("#list").append(html);
    },4000);

  }

  else if ( num == 2 ) {
    setTimeout(function(){
      $("#gu_btn").hide();
    },1000);
    setTimeout(function(){
      $("#par_btn").hide();
    },1000);
    setTimeout(function(){
      $("#option").hide();
    },1000);
    setTimeout(function(){
      $("#par_btn2").show();
    },2000);
    setTimeout(function(){
      $("#container").hide();
    },2000);
    setTimeout(function(){
      $("#judgment").text("あなたの勝ち");
      $("#judgment").css("color", "Red");
    },3000);
    setTimeout(function(){
      $("#retry_btn").show();
    },4000);
    setTimeout(function(){
      const html = `<tr><td>${k+1}回戦</td><td>${v}</td></tr>`
      $("#list").append(html);
    },4000);

  }

  else if ( num == 3 ) {
    setTimeout(function(){
      $("#gu_btn").hide();
    },1000);
    setTimeout(function(){
      $("#par_btn").hide();
    },1000);
    setTimeout(function(){
      $("#option").hide();
    },1000);
    setTimeout(function(){
      $("#gu_btn2").show();
    },2000);
    setTimeout(function(){
      $("#container").hide();
    },2000);
    setTimeout(function(){
      $("#judgment").text("あなたの負け");
      $("#judgment").css("color", "Blue");
    },3000);
    setTimeout(function(){
      $("#retry_btn").show();
    },4000);
    setTimeout(function(){
      const html = `<tr><td>${k+1}回戦</td><td>${v}</td></tr>`
      $("#list").append(html);
    },4000);
  }
  })

$("#par_btn").on("click", function() {
  let num = ( Math.ceil(3*Math.random() ) )
  console.log( num );
  let k = localStorage.length;
  let v = results[num];
  localStorage.setItem(k, v);

  if (num == 1) {
    setTimeout(function(){
      $("#gu_btn").hide();
    },1000);
    setTimeout(function(){
      $("#cho_btn").hide();
    },1000);
    setTimeout(function(){
      $("#option").hide();
    },1000);
    setTimeout(function(){
      $("#par_btn2").show();
    },2000);
    setTimeout(function(){
      $("#container").hide();
    },2000);
    setTimeout(function(){
      $("#judgment").text("あいこ");
    },3000);
    setTimeout(function(){
      $("#retry_btn").show();
    },4000);
    setTimeout(function(){
      const html = `<tr><td>${k+1}回戦</td><td>${v}</td></tr>`
      $("#list").append(html);
    },4000);

  }

   else if ( num == 2 ) {
    setTimeout(function(){
      $("#gu_btn").hide();
    },1000);
    setTimeout(function(){
      $("#cho_btn").hide();
    },1000);
    setTimeout(function(){
      $("#option").hide();
    },1000);
    setTimeout(function(){
      $("#gu_btn2").show();
    },2000);
    setTimeout(function(){
      $("#container").hide();
    },2000);
    setTimeout(function(){
      $("#judgment").text("あなたの勝ち");
      $("#judgment").css("color", "Red");
    },3000);
    setTimeout(function(){
      $("#retry_btn").show();
    },4000);
    setTimeout(function(){
      const html = `<tr><td>${k+1}回戦</td><td>${v}</td></tr>`
      $("#list").append(html);
    },4000);
  }
  
  else if ( num == 3 ) {
    setTimeout(function(){
      $("#gu_btn").hide();
    },1000);
    setTimeout(function(){
      $("#cho_btn").hide();
    },1000);
    setTimeout(function(){
      $("#option").hide();
    },1000);
    setTimeout(function(){
      $("#cho_btn2").show();
    },2000);
    setTimeout(function(){
      $("#container").hide();
    },2000);
    setTimeout(function(){
      $("#judgment").text("あなたの負け");
      $("#judgment").css("color", "Blue");
    },3000);
    setTimeout(function(){
      $("#retry_btn").show();
    },4000);
    setTimeout(function(){
      const html = `<tr><td>${k+1}回戦</td><td>${v}</td></tr>`
      $("#list").append(html);
    },4000);
  }
  })
  
for(let i = 0; i < localStorage.length; i++){
    $("#list").append(html);
}
  
$("#retry_btn").on("click", function(){
  $("#judgment").text("勝敗は・・・");
  $("#judgment").css("color", "black");
  $("#gu_btn").toggle(true);
  $("#cho_btn").toggle(true);
  $("#par_btn").toggle(true); 
  $("#container").toggle(true);
  $("#gu_btn2").toggle(false);
  $("#cho_btn2").toggle(false);
  $("#par_btn2").toggle(false);
  $("#retry_btn").toggle(false);
});


</script>
</body>
</html>
